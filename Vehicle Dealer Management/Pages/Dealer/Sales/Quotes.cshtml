@page
@model Vehicle_Dealer_Management.Pages.Dealer.Sales.QuotesModel
@{
    ViewData["Title"] = "Danh s√°ch b√°o gi√°";
    ViewData["UserRole"] = "DEALER_STAFF";
    ViewData["UserName"] = HttpContext.Session.GetString("UserName") ?? "User";
}

<div class="content-header">
    <div class="flex justify-between items-center">
        <div>
            <h1 class="content-title">Danh s√°ch b√°o gi√°</h1>
            <p class="content-subtitle">Qu·∫£n l√Ω b√°o gi√° cho kh√°ch h√†ng</p>
        </div>
        <a href="/Dealer/Sales/CreateQuote" class="btn btn-primary">
            <i class="bi bi-plus-circle"></i> T·∫°o b√°o gi√° m·ªõi
        </a>
    </div>
</div>

<div class="card">
    <div class="card-body">
        <div class="table-container">
            <table class="table">
                <thead>
                    <tr>
                        <th>M√£</th>
                        <th>Kh√°ch h√†ng</th>
                        <th>Ng√†y t·∫°o</th>
                        <th>Tr·∫°ng th√°i</th>
                        <th>T·ªïng ti·ªÅn</th>
                        <th></th>
                    </tr>
                </thead>
                <tbody>
                    @if (Model.Quotes.Any())
                    {
                        @foreach (var quote in Model.Quotes)
                        {
                            <tr>
                                <td><strong>#@quote.Id</strong></td>
                                <td>@quote.CustomerName</td>
                                <td>@quote.CreatedAt.ToString("dd/MM/yyyy")</td>
                                <td>@await Html.PartialAsync("_StatusBadge", quote.Status)</td>
                                <td><strong>@quote.Total.ToString("N0") VND</strong></td>
                                <td class="text-right">
                                    <a href="#" class="btn btn-secondary btn-sm">Chi ti·∫øt</a>
                                </td>
                            </tr>
                        }
                    }
                    else
                    {
                        <tr>
                            <td colspan="6">
                                <div class="empty-state">
                                    <div class="empty-state-icon">üìÑ</div>
                                    <div class="empty-state-title">Ch∆∞a c√≥ b√°o gi√°</div>
                                    <div class="empty-state-text">T·∫°o b√°o gi√° m·ªõi cho kh√°ch h√†ng</div>
                                </div>
                            </td>
                        </tr>
                    }
                </tbody>
            </table>
        </div>
    </div>
</div>

